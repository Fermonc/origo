(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67585,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let r=e.r(32061);function i({reason:e,children:a}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}},9885,(e,a,s)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadChunks",{enumerable:!0,get:function(){return c}});let r=e.r(43476),i=e.r(74080),t=e.r(63599),n=e.r(9885);function c({moduleIds:e}){if("undefined"!=typeof window)return null;let a=t.workAsyncStorage.getStore();if(void 0===a)return null;let s=[];if(a.reactLoadableManifest&&e){let r=a.reactLoadableManifest;for(let a of e){if(!r[a])continue;let e=r[a].files;s.push(...e)}}return 0===s.length?null:(0,r.jsx)(r.Fragment,{children:s.map(e=>{let s=`${a.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:s,rel:"stylesheet",as:"style",nonce:a.nonce},e):((0,i.preload)(s,{as:"script",fetchPriority:"low",nonce:a.nonce}),null)})})}},69093,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return l}});let r=e.r(43476),i=e.r(71645),t=e.r(67585),n=e.r(52157);function c(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(c(()=>null)),loading:null,ssr:!0},l=function(e){let a={...o,...e},s=(0,i.lazy)(()=>a.loader().then(c)),l=a.loading;function d(e){let c=l?(0,r.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,o=!a.ssr||!!a.loading,d=o?i.Suspense:i.Fragment,f=a.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(n.PreloadChunks,{moduleIds:a.modules}):null,(0,r.jsx)(s,{...e})]}):(0,r.jsx)(t.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(d,{...o?{fallback:c}:{},children:f})}return d.displayName="LoadableComponent",d}},70703,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return i}});let r=e.r(55682)._(e.r(69093));function i(e,a){let s={};"function"==typeof e&&(s.loader=e);let i={...s,...a};return(0,r.default)({...i,modules:i.loadableGenerated?.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),a.exports=s.default)},19194,e=>{"use strict";var a=e.i(43476),s=e.i(37902),r=e.i(71645),i=e.i(21052);e.i(61086);var t=e.i(27215);let n=(0,e.i(70703).default)(()=>e.A(77577),{loadableGenerated:{modules:[70665]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"map-loading",children:"Cargando mapa..."})});function c({initialData:e={},onSubmit:c,loading:o}){let[l,d]=(0,r.useState)({title:e.title||"",price:e.price||"",location:e.location||"",coordinates:e.coordinates||{lat:6.1387,lng:-75.434},type:e.type||"Lote",status:e.status||"Disponible",area:e.area||"",bedrooms:e.bedrooms||"",bathrooms:e.bathrooms||"",parking:e.parking||"",stratum:e.stratum||"",administration:e.administration||"",yearBuilt:e.yearBuilt||"",access:e.access||"Pavimentado",topography:e.topography||"Plano",description:e.description||"",features:e.features||[],images:e.images||[],videoUrl:e.videoUrl||""}),[f,u]=(0,r.useState)([]),[x,b]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),j=(0,r.useRef)(null),h=e=>{let{name:a,value:s}=e.target;d(e=>({...e,[a]:s}))},g=e=>{e.preventDefault(),m.trim()&&(d(e=>({...e,features:[...e.features,m.trim()]})),p(""))},v=async e=>{e.preventDefault(),b(!0);try{let e=await Promise.all(f.map(async e=>{let a=(0,t.ref)(i.storage,`properties/${Date.now()}_${e.name}`),s=await (0,t.uploadBytes)(a,e);return await (0,t.getDownloadURL)(s.ref)})),a=[...l.images,...e];await c({...l,images:a,area:Number(l.area)||0,bedrooms:Number(l.bedrooms)||0,bathrooms:Number(l.bathrooms)||0,parking:Number(l.parking)||0,stratum:Number(l.stratum)||0,updatedAt:new Date().toISOString()})}catch(e){console.error("Error uploading images:",e),alert("Error al subir las imágenes. Intenta de nuevo.")}finally{b(!1)}};return(0,a.jsxs)("form",{onSubmit:v,className:"jsx-70839e92ba0646cf property-form",children:[(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf form-grid",children:[(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf form-section",children:[(0,a.jsx)("h3",{className:"jsx-70839e92ba0646cf",children:"Información Principal"}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group full-width",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Título del Inmueble"}),(0,a.jsx)("input",{type:"text",name:"title",value:l.title,onChange:h,required:!0,placeholder:"Ej: Hermosa Finca en Llanogrande",className:"jsx-70839e92ba0646cf input-lg"})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf row three-cols",children:[(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Precio (COP)"}),(0,a.jsx)("input",{type:"text",name:"price",value:l.price,onChange:h,required:!0,placeholder:"$000.000.000",className:"jsx-70839e92ba0646cf"})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Estado"}),(0,a.jsxs)("select",{name:"status",value:l.status,onChange:h,className:"jsx-70839e92ba0646cf",children:[(0,a.jsx)("option",{value:"Disponible",className:"jsx-70839e92ba0646cf",children:"Disponible"}),(0,a.jsx)("option",{value:"Reservado",className:"jsx-70839e92ba0646cf",children:"Reservado"}),(0,a.jsx)("option",{value:"Vendido",className:"jsx-70839e92ba0646cf",children:"Vendido"}),(0,a.jsx)("option",{value:"Arrendado",className:"jsx-70839e92ba0646cf",children:"Arrendado"})]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Tipo de Inmueble"}),(0,a.jsxs)("select",{name:"type",value:l.type,onChange:h,className:"jsx-70839e92ba0646cf",children:[(0,a.jsx)("option",{value:"Lote",className:"jsx-70839e92ba0646cf",children:"Lote"}),(0,a.jsx)("option",{value:"Finca",className:"jsx-70839e92ba0646cf",children:"Finca"}),(0,a.jsx)("option",{value:"Casa Campestre",className:"jsx-70839e92ba0646cf",children:"Casa Campestre"}),(0,a.jsx)("option",{value:"Casa",className:"jsx-70839e92ba0646cf",children:"Casa Urbana"}),(0,a.jsx)("option",{value:"Apartamento",className:"jsx-70839e92ba0646cf",children:"Apartamento"}),(0,a.jsx)("option",{value:"Local",className:"jsx-70839e92ba0646cf",children:"Local Comercial"}),(0,a.jsx)("option",{value:"Bodega",className:"jsx-70839e92ba0646cf",children:"Bodega"})]})]})]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf form-section",children:[(0,a.jsx)("h3",{className:"jsx-70839e92ba0646cf",children:"Ubicación"}),(0,a.jsx)("div",{className:"jsx-70839e92ba0646cf row",children:(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Ubicación General (Municipio / Vereda)"}),(0,a.jsx)("input",{type:"text",name:"location",value:l.location,onChange:h,required:!0,placeholder:"Ej: Rionegro, Vereda Abreo",className:"jsx-70839e92ba0646cf"})]})}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group map-container",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Mapa (Arrastra el marcador para fijar la ubicación exacta)"}),(0,a.jsx)(n,{position:l.coordinates,onPositionChange:e=>{d(a=>({...a,coordinates:e}))}}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf coordinates-display",children:["Lat: ",l.coordinates?.lat?.toFixed(5),", Lng: ",l.coordinates?.lng?.toFixed(5)]})]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf form-section",children:[(0,a.jsx)("h3",{className:"jsx-70839e92ba0646cf",children:"Detalles y Características"}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf row four-cols",children:[(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Área (m²)"}),(0,a.jsx)("input",{type:"number",name:"area",value:l.area,onChange:h,required:!0,className:"jsx-70839e92ba0646cf"})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Habitaciones"}),(0,a.jsx)("input",{type:"number",name:"bedrooms",value:l.bedrooms,onChange:h,className:"jsx-70839e92ba0646cf"})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Baños"}),(0,a.jsx)("input",{type:"number",name:"bathrooms",value:l.bathrooms,onChange:h,className:"jsx-70839e92ba0646cf"})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Parqueaderos"}),(0,a.jsx)("input",{type:"number",name:"parking",value:l.parking,onChange:h,className:"jsx-70839e92ba0646cf"})]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf row four-cols",children:[(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Estrato"}),(0,a.jsxs)("select",{name:"stratum",value:l.stratum,onChange:h,className:"jsx-70839e92ba0646cf",children:[(0,a.jsx)("option",{value:"",className:"jsx-70839e92ba0646cf",children:"Seleccionar..."}),[1,2,3,4,5,6].map(e=>(0,a.jsx)("option",{value:e,className:"jsx-70839e92ba0646cf",children:e},e))]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Admin ($)"}),(0,a.jsx)("input",{type:"text",name:"administration",value:l.administration,onChange:h,placeholder:"Cuota mensual",className:"jsx-70839e92ba0646cf"})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Año Construcción"}),(0,a.jsx)("input",{type:"number",name:"yearBuilt",value:l.yearBuilt,onChange:h,placeholder:"Ej: 2020",className:"jsx-70839e92ba0646cf"})]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf row",children:[(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Acceso"}),(0,a.jsxs)("select",{name:"access",value:l.access,onChange:h,className:"jsx-70839e92ba0646cf",children:[(0,a.jsx)("option",{value:"Pavimentado",className:"jsx-70839e92ba0646cf",children:"Pavimentado"}),(0,a.jsx)("option",{value:"Destapado",className:"jsx-70839e92ba0646cf",children:"Destapado (Tierra)"}),(0,a.jsx)("option",{value:"Mixto",className:"jsx-70839e92ba0646cf",children:"Mixto"}),(0,a.jsx)("option",{value:"Rieles",className:"jsx-70839e92ba0646cf",children:"Placa Huella / Rieles"})]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Topografía"}),(0,a.jsxs)("select",{name:"topography",value:l.topography,onChange:h,className:"jsx-70839e92ba0646cf",children:[(0,a.jsx)("option",{value:"Plano",className:"jsx-70839e92ba0646cf",children:"Plano"}),(0,a.jsx)("option",{value:"Inclinado",className:"jsx-70839e92ba0646cf",children:"Inclinado (Pendiente)"}),(0,a.jsx)("option",{value:"Mixto",className:"jsx-70839e92ba0646cf",children:"Mixto / Ondulado"}),(0,a.jsx)("option",{value:"Quebrado",className:"jsx-70839e92ba0646cf",children:"Quebrado"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Características Adicionales (Amenities)"}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf feature-input-container",children:[(0,a.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),placeholder:"Ej: Piscina, Vigilancia 24h, Chimenea...",onKeyDown:e=>"Enter"===e.key&&g(e),className:"jsx-70839e92ba0646cf"}),(0,a.jsx)("button",{type:"button",onClick:g,className:"jsx-70839e92ba0646cf btn-add",children:"Agregar"})]}),(0,a.jsx)("div",{className:"jsx-70839e92ba0646cf features-list",children:l.features.map((e,s)=>(0,a.jsxs)("span",{className:"jsx-70839e92ba0646cf feature-tag",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>{d(e=>({...e,features:e.features.filter((e,a)=>a!==s)}))},className:"jsx-70839e92ba0646cf",children:"×"})]},s))})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Descripción Detallada"}),(0,a.jsx)("textarea",{name:"description",value:l.description,onChange:h,rows:"6",required:!0,placeholder:"Describe los detalles que hacen única a esta propiedad...",className:"jsx-70839e92ba0646cf"})]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf form-section",children:[(0,a.jsx)("h3",{className:"jsx-70839e92ba0646cf",children:"Multimedia"}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Imágenes (Selecciona varias)"}),(0,a.jsxs)("div",{onClick:()=>j.current?.click(),className:"jsx-70839e92ba0646cf file-drop-area",children:[(0,a.jsx)("p",{className:"jsx-70839e92ba0646cf",children:"Haz clic para seleccionar fotos"}),(0,a.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{if(e.target.files){let a=Array.from(e.target.files);u(e=>[...e,...a])}},ref:j,className:"jsx-70839e92ba0646cf hidden-file-input"})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf images-preview",children:[l.images.map((e,s)=>(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf image-preview-item",children:[(0,a.jsx)("img",{src:e,alt:`Propiedad ${s}`,className:"jsx-70839e92ba0646cf"}),(0,a.jsx)("button",{type:"button",onClick:()=>{d(e=>({...e,images:e.images.filter((e,a)=>a!==s)}))},className:"jsx-70839e92ba0646cf btn-remove-img",children:"×"})]},`existing-${s}`)),f.map((e,s)=>(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf image-preview-item new",children:[(0,a.jsx)("img",{src:URL.createObjectURL(e),alt:`Nueva ${s}`,className:"jsx-70839e92ba0646cf"}),(0,a.jsx)("button",{type:"button",onClick:()=>{u(e=>e.filter((e,a)=>a!==s))},className:"jsx-70839e92ba0646cf btn-remove-img",children:"×"}),(0,a.jsx)("span",{className:"jsx-70839e92ba0646cf img-label",children:"Nueva"})]},`new-${s}`))]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf input-group",children:[(0,a.jsx)("label",{className:"jsx-70839e92ba0646cf",children:"Video URL (YouTube/Vimeo)"}),(0,a.jsx)("input",{type:"url",name:"videoUrl",value:l.videoUrl,onChange:h,placeholder:"https://youtube.com/...",className:"jsx-70839e92ba0646cf"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-70839e92ba0646cf form-actions sticky-actions",children:[(0,a.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"jsx-70839e92ba0646cf btn-cancel",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",disabled:o||x,className:"jsx-70839e92ba0646cf btn btn-primary btn-large",children:x?"Subiendo imágenes...":o?"Guardando...":"Guardar Propiedad"})]}),(0,a.jsx)(s.default,{id:"70839e92ba0646cf",children:".property-form.jsx-70839e92ba0646cf{max-width:1000px;margin:0 auto;padding-bottom:80px}.form-section.jsx-70839e92ba0646cf{background:#fff;border:1px solid #0000000d;border-radius:16px;margin-bottom:2rem;padding:2rem;box-shadow:0 4px 20px #00000008}.form-section.jsx-70839e92ba0646cf h3.jsx-70839e92ba0646cf{color:#111;border-bottom:2px solid #f0f0f0;margin-bottom:1.5rem;padding-bottom:.5rem;font-size:1.25rem;font-weight:700}.input-group.jsx-70839e92ba0646cf{margin-bottom:1.25rem}.input-group.jsx-70839e92ba0646cf label.jsx-70839e92ba0646cf{color:#333;margin-bottom:.5rem;font-size:.95rem;font-weight:600;display:block}.input-group.jsx-70839e92ba0646cf input.jsx-70839e92ba0646cf,.input-group.jsx-70839e92ba0646cf select.jsx-70839e92ba0646cf,.input-group.jsx-70839e92ba0646cf textarea.jsx-70839e92ba0646cf{background:#fcfcfc;border:1px solid #e0e0e0;border-radius:10px;width:100%;padding:.875rem;font-family:inherit;font-size:1rem;transition:all .2s}.input-group.jsx-70839e92ba0646cf input.jsx-70839e92ba0646cf:focus,.input-group.jsx-70839e92ba0646cf select.jsx-70839e92ba0646cf:focus,.input-group.jsx-70839e92ba0646cf textarea.jsx-70839e92ba0646cf:focus{background:#fff;border-color:#111;outline:none;box-shadow:0 0 0 3px #0000000d}.input-lg.jsx-70839e92ba0646cf{font-weight:600;font-size:1.2rem!important}.row.jsx-70839e92ba0646cf{gap:1.5rem;display:grid}.three-cols.jsx-70839e92ba0646cf{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.four-cols.jsx-70839e92ba0646cf{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}.feature-input-container.jsx-70839e92ba0646cf{gap:.5rem;margin-bottom:1rem;display:flex}.btn-add.jsx-70839e92ba0646cf{color:#fff;cursor:pointer;background:#333;border:none;border-radius:10px;padding:0 1.5rem;font-weight:600}.features-list.jsx-70839e92ba0646cf{flex-wrap:wrap;gap:.75rem;display:flex}.feature-tag.jsx-70839e92ba0646cf{color:#333;background:#f0f0f0;border-radius:30px;align-items:center;gap:.75rem;padding:.5rem 1rem;font-size:.9rem;font-weight:500;display:flex}.feature-tag.jsx-70839e92ba0646cf button.jsx-70839e92ba0646cf{color:#666;cursor:pointer;background:#e5e5e5;border:none;border-radius:50%;justify-content:center;align-items:center;width:20px;height:20px;font-size:1rem;line-height:1;display:flex}.feature-tag.jsx-70839e92ba0646cf button.jsx-70839e92ba0646cf:hover{color:#d32f2f;background:#fcc}.file-drop-area.jsx-70839e92ba0646cf{text-align:center;cursor:pointer;background:#fafafa;border:2px dashed #ccc;border-radius:12px;padding:2rem;transition:all .2s}.file-drop-area.jsx-70839e92ba0646cf:hover{background:#f0f0f0;border-color:#111}.hidden-file-input.jsx-70839e92ba0646cf{display:none}.images-preview.jsx-70839e92ba0646cf{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:1rem;margin-top:1.5rem;display:grid}.image-preview-item.jsx-70839e92ba0646cf{aspect-ratio:1;border-radius:12px;position:relative;overflow:hidden;box-shadow:0 2px 8px #0000001a}.image-preview-item.jsx-70839e92ba0646cf img.jsx-70839e92ba0646cf{object-fit:cover;width:100%;height:100%}.btn-remove-img.jsx-70839e92ba0646cf{color:#fff;cursor:pointer;background:#0009;border:none;border-radius:50%;justify-content:center;align-items:center;width:28px;height:28px;transition:background .2s;display:flex;position:absolute;top:6px;right:6px}.btn-remove-img.jsx-70839e92ba0646cf:hover{background:#dc2626e6}.img-label.jsx-70839e92ba0646cf{color:#fff;text-align:center;background:#3b82f6e6;padding:3px;font-size:.7rem;font-weight:600;position:absolute;bottom:0;left:0;right:0}.sticky-actions.jsx-70839e92ba0646cf{z-index:100;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2;justify-content:flex-end;gap:1rem;padding:1rem 2rem;display:flex;position:fixed;bottom:0;left:0;right:0;box-shadow:0 -4px 20px #0000000d}.btn.jsx-70839e92ba0646cf{cursor:pointer;border:none;border-radius:10px;padding:.75rem 1.5rem;font-weight:600;transition:all .2s}.btn-primary.jsx-70839e92ba0646cf{color:#fff;background:#111;box-shadow:0 4px 12px #00000026}.btn-primary.jsx-70839e92ba0646cf:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0003}.btn-primary.jsx-70839e92ba0646cf:disabled{cursor:not-allowed;background:#888;transform:none}.btn-cancel.jsx-70839e92ba0646cf{color:#666;background:0 0;border:1px solid #ddd}.btn-cancel.jsx-70839e92ba0646cf:hover{color:#333;background:#f5f5f5}.map-loading.jsx-70839e92ba0646cf{color:#888;background:#f0f0f0;border-radius:12px;justify-content:center;align-items:center;height:400px;display:flex}.coordinates-display.jsx-70839e92ba0646cf{color:#666;margin-top:.5rem;font-family:monospace;font-size:.8rem}@media (width<=768px){.row.jsx-70839e92ba0646cf{grid-template-columns:1fr}.sticky-actions.jsx-70839e92ba0646cf{padding:1rem}.btn-large.jsx-70839e92ba0646cf{width:100%}}"})]})}e.s(["default",()=>c])},94430,e=>{"use strict";var a=e.i(43476),s=e.i(37902),r=e.i(71645),i=e.i(18566),t=e.i(58652),n=e.i(5513),c=e.i(21052);e.i(36180);var o=e.i(98925),l=e.i(19194),d=e.i(22016);function f({params:e}){let{id:f}=e,{user:u,loading:x}=(0,t.useAuth)(),{addToast:b}=(0,n.useToast)(),m=(0,i.useRouter)(),[p,j]=(0,r.useState)(null),[h,g]=(0,r.useState)(!0),[v,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{x||u||m.push("/admin/login")},[u,x,m]),(0,r.useEffect)(()=>{(async()=>{if(f&&u)try{let e=(0,o.doc)(c.db,"properties",f),a=await (0,o.getDoc)(e);a.exists()?j({id:a.id,...a.data()}):(b("Propiedad no encontrada","error"),m.push("/admin/dashboard"))}catch(e){console.error("Error fetching property:",e),b("Error al cargar la propiedad","error")}finally{g(!1)}})()},[f,u,m,b]);let y=async e=>{N(!0);try{let a=(0,o.doc)(c.db,"properties",f);await (0,o.updateDoc)(a,{...e,updatedAt:new Date().toISOString(),updatedBy:u.email,priceNumber:Number(e.price.replace(/[^0-9]/g,""))||0}),b("Propiedad actualizada exitosamente","success"),m.push("/admin/dashboard")}catch(e){console.error("Error updating property:",e),b("Error al actualizar la propiedad: "+e.message,"error")}finally{N(!1)}};return x||!u||h?(0,a.jsxs)("div",{className:"jsx-dc3a331289cfcd1d loading-screen",children:[(0,a.jsx)("div",{className:"jsx-dc3a331289cfcd1d spinner"}),(0,a.jsx)(s.default,{id:"dc3a331289cfcd1d",children:".loading-screen.jsx-dc3a331289cfcd1d{justify-content:center;align-items:center;height:100vh;display:flex}.spinner.jsx-dc3a331289cfcd1d{border:3px solid #f3f3f3;border-top-color:#0f172a;border-radius:50%;width:40px;height:40px;animation:1s linear infinite spin}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"})]}):(0,a.jsxs)("div",{className:"jsx-cdbcdfda0f440e6d admin-page",children:[(0,a.jsx)("header",{className:"jsx-cdbcdfda0f440e6d admin-header",children:(0,a.jsxs)("div",{className:"jsx-cdbcdfda0f440e6d container header-container",children:[(0,a.jsx)(d.default,{href:"/admin/dashboard",className:"back-link",children:"← Volver"}),(0,a.jsx)("h1",{className:"jsx-cdbcdfda0f440e6d",children:"Editar Propiedad"}),(0,a.jsx)("div",{style:{width:"60px"},className:"jsx-cdbcdfda0f440e6d"})]})}),(0,a.jsx)("main",{className:"jsx-cdbcdfda0f440e6d container main-content",children:p&&(0,a.jsx)(l.default,{initialData:p,onSubmit:y,loading:v})}),(0,a.jsx)(s.default,{id:"cdbcdfda0f440e6d",children:".admin-page.jsx-cdbcdfda0f440e6d{background-color:#f8fafc;min-height:100vh}.admin-header.jsx-cdbcdfda0f440e6d{z-index:100;background:#fff;border-bottom:1px solid #e2e8f0;margin-bottom:2rem;padding:1rem 0;position:sticky;top:0}.header-container.jsx-cdbcdfda0f440e6d{justify-content:space-between;align-items:center;display:flex}h1.jsx-cdbcdfda0f440e6d{color:#0f172a;margin:0;font-size:1.25rem;font-weight:700}.back-link.jsx-cdbcdfda0f440e6d{color:#64748b;border-radius:8px;padding:.5rem 1rem;font-size:.9rem;font-weight:500;text-decoration:none;transition:background .2s}.back-link.jsx-cdbcdfda0f440e6d:hover{color:#0f172a;background:#f1f5f9}.main-content.jsx-cdbcdfda0f440e6d{padding-bottom:4rem}"})]})}e.s(["default",()=>f])},77577,e=>{e.v(a=>Promise.all(["static/chunks/0c00a36bd5e162e2.js","static/chunks/1442f9ddf5556540.js","static/chunks/92775ae1698e5da0.css"].map(a=>e.l(a))).then(()=>a(70665)))}]);