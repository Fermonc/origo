(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67585,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return t}});let r=e.r(32061);function t({reason:e,children:a}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}},9885,(e,a,s)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadChunks",{enumerable:!0,get:function(){return d}});let r=e.r(43476),t=e.r(74080),i=e.r(63599),n=e.r(9885);function d({moduleIds:e}){if("undefined"!=typeof window)return null;let a=i.workAsyncStorage.getStore();if(void 0===a)return null;let s=[];if(a.reactLoadableManifest&&e){let r=a.reactLoadableManifest;for(let a of e){if(!r[a])continue;let e=r[a].files;s.push(...e)}}return 0===s.length?null:(0,r.jsx)(r.Fragment,{children:s.map(e=>{let s=`${a.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:s,rel:"stylesheet",as:"style",nonce:a.nonce},e):((0,t.preload)(s,{as:"script",fetchPriority:"low",nonce:a.nonce}),null)})})}},69093,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return l}});let r=e.r(43476),t=e.r(71645),i=e.r(67585),n=e.r(52157);function d(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},l=function(e){let a={...o,...e},s=(0,t.lazy)(()=>a.loader().then(d)),l=a.loading;function c(e){let d=l?(0,r.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,o=!a.ssr||!!a.loading,c=o?t.Suspense:t.Fragment,b=a.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(n.PreloadChunks,{moduleIds:a.modules}):null,(0,r.jsx)(s,{...e})]}):(0,r.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(c,{...o?{fallback:d}:{},children:b})}return c.displayName="LoadableComponent",c}},70703,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return t}});let r=e.r(55682)._(e.r(69093));function t(e,a){let s={};"function"==typeof e&&(s.loader=e);let t={...s,...a};return(0,r.default)({...t,modules:t.loadableGenerated?.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),a.exports=s.default)},19194,e=>{"use strict";var a=e.i(43476),s=e.i(37902),r=e.i(71645),t=e.i(21052);e.i(61086);var i=e.i(27215);let n=(0,e.i(70703).default)(()=>e.A(77577),{loadableGenerated:{modules:[70665]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"map-loading",children:"Cargando mapa..."})});function d({initialData:e={},onSubmit:d,loading:o}){let[l,c]=(0,r.useState)({title:e.title||"",price:e.price||"",location:e.location||"",coordinates:e.coordinates||{lat:6.1387,lng:-75.434},type:e.type||"Lote",status:e.status||"Disponible",area:e.area||"",bedrooms:e.bedrooms||"",bathrooms:e.bathrooms||"",parking:e.parking||"",stratum:e.stratum||"",administration:e.administration||"",yearBuilt:e.yearBuilt||"",access:e.access||"Pavimentado",topography:e.topography||"Plano",description:e.description||"",features:e.features||[],images:e.images||[],videoUrl:e.videoUrl||""}),[b,f]=(0,r.useState)([]),[u,x]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[j,h]=(0,r.useState)(!1),g=(0,r.useRef)(null),v=e=>{let{name:a,value:s}=e.target;c(e=>({...e,[a]:s}))},N=async e=>{if(c(a=>({...a,coordinates:e})),!j)try{let a=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e.lat}&lon=${e.lon||e.lng}&zoom=14`),s=await a.json();if(s&&s.address){let e=s.address.city||s.address.town||s.address.village||s.address.municipality||"",a=s.address.suburb||s.address.neighbourhood||"",r=s.address.state||"",t=e;a&&(t+=`, ${a}`),r&&(t+=`, ${r}`),c(e=>({...e,location:t}))}}catch(e){console.error("Geocoding error:",e)}},y=async()=>{if(l.location){h(!0);try{let e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(l.location)}`),a=await e.json();if(a&&a.length>0){let e=a[0],s={lat:parseFloat(e.lat),lng:parseFloat(e.lon)};c(e=>({...e,coordinates:s}))}else alert('No se encontr√≥ la ubicaci√≥n. Intenta ser m√°s espec√≠fico (ej: "Rionegro, Antioquia").')}catch(e){console.error("Search error:",e),alert("Error al buscar la ubicaci√≥n.")}finally{h(!1)}}},w=e=>{e.preventDefault(),m.trim()&&(c(e=>({...e,features:[...e.features,m.trim()]})),p(""))},k=async e=>{e.preventDefault();let a=6.1387===l.coordinates.lat&&-75.434===l.coordinates.lng;if(!l.location||""===l.location.trim()||!a||confirm(`Est\xe1s a punto de guardar la propiedad en "${l.location}" pero el mapa sigue en la ubicaci\xf3n por defecto (Rionegro). 

\xbfDeseas guardar de todos modos? 
(Haz clic en Cancelar para ajustar el mapa)`)){x(!0);try{let e=await Promise.all(b.map(async e=>{let a=(0,i.ref)(t.storage,`properties/${Date.now()}_${e.name}`),s=await (0,i.uploadBytes)(a,e);return await (0,i.getDownloadURL)(s.ref)})),a=[...l.images,...e];await d({...l,images:a,area:Number(l.area)||0,bedrooms:Number(l.bedrooms)||0,bathrooms:Number(l.bathrooms)||0,parking:Number(l.parking)||0,stratum:Number(l.stratum)||0,updatedAt:new Date().toISOString()})}catch(e){console.error("Error uploading images:",e),alert("Error al subir las im√°genes. Intenta de nuevo.")}finally{x(!1)}}};return(0,a.jsxs)("form",{onSubmit:k,className:"jsx-59911f53b71d88be property-form",children:[(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be form-grid",children:[(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be form-section",children:[(0,a.jsx)("h3",{className:"jsx-59911f53b71d88be",children:"Informaci√≥n Principal"}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group full-width",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"T√≠tulo del Inmueble"}),(0,a.jsx)("input",{type:"text",name:"title",value:l.title,onChange:v,required:!0,placeholder:"Ej: Hermosa Finca en Llanogrande",className:"jsx-59911f53b71d88be input-lg"})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be row three-cols",children:[(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Precio (COP)"}),(0,a.jsx)("input",{type:"text",name:"price",value:l.price,onChange:v,required:!0,placeholder:"$000.000.000",className:"jsx-59911f53b71d88be"})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Estado"}),(0,a.jsxs)("select",{name:"status",value:l.status,onChange:v,className:"jsx-59911f53b71d88be",children:[(0,a.jsx)("option",{value:"Disponible",className:"jsx-59911f53b71d88be",children:"Disponible"}),(0,a.jsx)("option",{value:"Reservado",className:"jsx-59911f53b71d88be",children:"Reservado"}),(0,a.jsx)("option",{value:"Vendido",className:"jsx-59911f53b71d88be",children:"Vendido"}),(0,a.jsx)("option",{value:"Arrendado",className:"jsx-59911f53b71d88be",children:"Arrendado"})]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Tipo de Inmueble"}),(0,a.jsxs)("select",{name:"type",value:l.type,onChange:v,className:"jsx-59911f53b71d88be",children:[(0,a.jsx)("option",{value:"Lote",className:"jsx-59911f53b71d88be",children:"Lote"}),(0,a.jsx)("option",{value:"Finca",className:"jsx-59911f53b71d88be",children:"Finca"}),(0,a.jsx)("option",{value:"Casa Campestre",className:"jsx-59911f53b71d88be",children:"Casa Campestre"}),(0,a.jsx)("option",{value:"Casa",className:"jsx-59911f53b71d88be",children:"Casa Urbana"}),(0,a.jsx)("option",{value:"Apartamento",className:"jsx-59911f53b71d88be",children:"Apartamento"}),(0,a.jsx)("option",{value:"Local",className:"jsx-59911f53b71d88be",children:"Local Comercial"}),(0,a.jsx)("option",{value:"Bodega",className:"jsx-59911f53b71d88be",children:"Bodega"})]})]})]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be form-section",children:[(0,a.jsx)("h3",{className:"jsx-59911f53b71d88be",children:"Ubicaci√≥n"}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group map-container",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Mapa (Arrastra el marcador para fijar la ubicaci√≥n exacta)"}),(0,a.jsx)("p",{className:"jsx-59911f53b71d88be help-text",children:"Mueve el marcador en el mapa para establecer la ubicaci√≥n. La direcci√≥n se completar√° autom√°ticamente."}),(0,a.jsx)(n,{position:l.coordinates,onPositionChange:N}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be coordinates-display",children:["Lat: ",l.coordinates?.lat?.toFixed(5),", Lng: ",l.coordinates?.lng?.toFixed(5)]})]}),(0,a.jsx)("div",{className:"jsx-59911f53b71d88be row",children:(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Ubicaci√≥n (Texto)"}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be location-search-container",children:[(0,a.jsx)("input",{type:"text",name:"location",value:l.location,onChange:v,onBlur:y,onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),y()),required:!0,placeholder:"Escribe ciudad o direcci√≥n y presiona Enter...",className:"jsx-59911f53b71d88be"}),(0,a.jsx)("button",{type:"button",onClick:y,disabled:j,className:"jsx-59911f53b71d88be btn-search-map",children:j?"...":"üîç"})]}),(0,a.jsx)("small",{className:"jsx-59911f53b71d88be help-text",children:"Escribe la ubicaci√≥n y presiona Enter para centrar el mapa."})]})})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be form-section",children:[(0,a.jsx)("h3",{className:"jsx-59911f53b71d88be",children:"Detalles y Caracter√≠sticas"}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be row four-cols",children:[(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"√Årea (m¬≤)"}),(0,a.jsx)("input",{type:"number",name:"area",value:l.area,onChange:v,required:!0,className:"jsx-59911f53b71d88be"})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Habitaciones"}),(0,a.jsx)("input",{type:"number",name:"bedrooms",value:l.bedrooms,onChange:v,className:"jsx-59911f53b71d88be"})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Ba√±os"}),(0,a.jsx)("input",{type:"number",name:"bathrooms",value:l.bathrooms,onChange:v,className:"jsx-59911f53b71d88be"})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Parqueaderos"}),(0,a.jsx)("input",{type:"number",name:"parking",value:l.parking,onChange:v,className:"jsx-59911f53b71d88be"})]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be row four-cols",children:[(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Estrato"}),(0,a.jsxs)("select",{name:"stratum",value:l.stratum,onChange:v,className:"jsx-59911f53b71d88be",children:[(0,a.jsx)("option",{value:"",className:"jsx-59911f53b71d88be",children:"Seleccionar..."}),[1,2,3,4,5,6].map(e=>(0,a.jsx)("option",{value:e,className:"jsx-59911f53b71d88be",children:e},e))]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Admin ($)"}),(0,a.jsx)("input",{type:"text",name:"administration",value:l.administration,onChange:v,placeholder:"Cuota mensual",className:"jsx-59911f53b71d88be"})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"A√±o Construcci√≥n"}),(0,a.jsx)("input",{type:"number",name:"yearBuilt",value:l.yearBuilt,onChange:v,placeholder:"Ej: 2020",className:"jsx-59911f53b71d88be"})]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be row",children:[(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Acceso"}),(0,a.jsxs)("select",{name:"access",value:l.access,onChange:v,className:"jsx-59911f53b71d88be",children:[(0,a.jsx)("option",{value:"Pavimentado",className:"jsx-59911f53b71d88be",children:"Pavimentado"}),(0,a.jsx)("option",{value:"Destapado",className:"jsx-59911f53b71d88be",children:"Destapado (Tierra)"}),(0,a.jsx)("option",{value:"Mixto",className:"jsx-59911f53b71d88be",children:"Mixto"}),(0,a.jsx)("option",{value:"Rieles",className:"jsx-59911f53b71d88be",children:"Placa Huella / Rieles"})]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Topograf√≠a"}),(0,a.jsxs)("select",{name:"topography",value:l.topography,onChange:v,className:"jsx-59911f53b71d88be",children:[(0,a.jsx)("option",{value:"Plano",className:"jsx-59911f53b71d88be",children:"Plano"}),(0,a.jsx)("option",{value:"Inclinado",className:"jsx-59911f53b71d88be",children:"Inclinado (Pendiente)"}),(0,a.jsx)("option",{value:"Mixto",className:"jsx-59911f53b71d88be",children:"Mixto / Ondulado"}),(0,a.jsx)("option",{value:"Quebrado",className:"jsx-59911f53b71d88be",children:"Quebrado"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Caracter√≠sticas Adicionales (Amenities)"}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be feature-input-container",children:[(0,a.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),placeholder:"Ej: Piscina, Vigilancia 24h, Chimenea...",onKeyDown:e=>"Enter"===e.key&&w(e),className:"jsx-59911f53b71d88be"}),(0,a.jsx)("button",{type:"button",onClick:w,className:"jsx-59911f53b71d88be btn-add",children:"Agregar"})]}),(0,a.jsx)("div",{className:"jsx-59911f53b71d88be features-list",children:l.features.map((e,s)=>(0,a.jsxs)("span",{className:"jsx-59911f53b71d88be feature-tag",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>{c(e=>({...e,features:e.features.filter((e,a)=>a!==s)}))},className:"jsx-59911f53b71d88be",children:"√ó"})]},s))})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Descripci√≥n Detallada"}),(0,a.jsx)("textarea",{name:"description",value:l.description,onChange:v,rows:"6",required:!0,placeholder:"Describe los detalles que hacen √∫nica a esta propiedad...",className:"jsx-59911f53b71d88be"})]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be form-section",children:[(0,a.jsx)("h3",{className:"jsx-59911f53b71d88be",children:"Multimedia"}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Im√°genes (Selecciona varias)"}),(0,a.jsxs)("div",{onClick:()=>g.current?.click(),className:"jsx-59911f53b71d88be file-drop-area",children:[(0,a.jsx)("p",{className:"jsx-59911f53b71d88be",children:"Haz clic para seleccionar fotos"}),(0,a.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{if(e.target.files){let a=Array.from(e.target.files);f(e=>[...e,...a])}},ref:g,className:"jsx-59911f53b71d88be hidden-file-input"})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be images-preview",children:[l.images.map((e,s)=>(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be image-preview-item",children:[(0,a.jsx)("img",{src:e,alt:`Propiedad ${s}`,className:"jsx-59911f53b71d88be"}),(0,a.jsx)("button",{type:"button",onClick:()=>{c(e=>({...e,images:e.images.filter((e,a)=>a!==s)}))},className:"jsx-59911f53b71d88be btn-remove-img",children:"√ó"})]},`existing-${s}`)),b.map((e,s)=>(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be image-preview-item new",children:[(0,a.jsx)("img",{src:URL.createObjectURL(e),alt:`Nueva ${s}`,className:"jsx-59911f53b71d88be"}),(0,a.jsx)("button",{type:"button",onClick:()=>{f(e=>e.filter((e,a)=>a!==s))},className:"jsx-59911f53b71d88be btn-remove-img",children:"√ó"}),(0,a.jsx)("span",{className:"jsx-59911f53b71d88be img-label",children:"Nueva"})]},`new-${s}`))]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be input-group",children:[(0,a.jsx)("label",{className:"jsx-59911f53b71d88be",children:"Video URL (YouTube/Vimeo)"}),(0,a.jsx)("input",{type:"url",name:"videoUrl",value:l.videoUrl,onChange:v,placeholder:"https://youtube.com/...",className:"jsx-59911f53b71d88be"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-59911f53b71d88be form-actions sticky-actions",children:[(0,a.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"jsx-59911f53b71d88be btn-cancel",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",disabled:o||u,className:"jsx-59911f53b71d88be btn btn-primary btn-large",children:u?"Subiendo im√°genes...":o?"Guardando...":"Guardar Propiedad"})]}),(0,a.jsx)(s.default,{id:"59911f53b71d88be",children:".property-form.jsx-59911f53b71d88be{max-width:1000px;margin:0 auto;padding-bottom:80px}.form-section.jsx-59911f53b71d88be{background:#fff;border:1px solid #0000000d;border-radius:16px;margin-bottom:2rem;padding:2rem;box-shadow:0 4px 20px #00000008}.form-section.jsx-59911f53b71d88be h3.jsx-59911f53b71d88be{color:#111;border-bottom:2px solid #f0f0f0;margin-bottom:1.5rem;padding-bottom:.5rem;font-size:1.25rem;font-weight:700}.input-group.jsx-59911f53b71d88be{margin-bottom:1.25rem}.input-group.jsx-59911f53b71d88be label.jsx-59911f53b71d88be{color:#333;margin-bottom:.5rem;font-size:.95rem;font-weight:600;display:block}.input-group.jsx-59911f53b71d88be input.jsx-59911f53b71d88be,.input-group.jsx-59911f53b71d88be select.jsx-59911f53b71d88be,.input-group.jsx-59911f53b71d88be textarea.jsx-59911f53b71d88be{background:#fcfcfc;border:1px solid #e0e0e0;border-radius:10px;width:100%;padding:.875rem;font-family:inherit;font-size:1rem;transition:all .2s}.input-group.jsx-59911f53b71d88be input.jsx-59911f53b71d88be:focus,.input-group.jsx-59911f53b71d88be select.jsx-59911f53b71d88be:focus,.input-group.jsx-59911f53b71d88be textarea.jsx-59911f53b71d88be:focus{background:#fff;border-color:#111;outline:none;box-shadow:0 0 0 3px #0000000d}.input-lg.jsx-59911f53b71d88be{font-weight:600;font-size:1.2rem!important}.row.jsx-59911f53b71d88be{gap:1.5rem;display:grid}.three-cols.jsx-59911f53b71d88be{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.four-cols.jsx-59911f53b71d88be{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}.feature-input-container.jsx-59911f53b71d88be{gap:.5rem;margin-bottom:1rem;display:flex}.btn-add.jsx-59911f53b71d88be{color:#fff;cursor:pointer;background:#333;border:none;border-radius:10px;padding:0 1.5rem;font-weight:600}.features-list.jsx-59911f53b71d88be{flex-wrap:wrap;gap:.75rem;display:flex}.feature-tag.jsx-59911f53b71d88be{color:#333;background:#f0f0f0;border-radius:30px;align-items:center;gap:.75rem;padding:.5rem 1rem;font-size:.9rem;font-weight:500;display:flex}.feature-tag.jsx-59911f53b71d88be button.jsx-59911f53b71d88be{color:#666;cursor:pointer;background:#e5e5e5;border:none;border-radius:50%;justify-content:center;align-items:center;width:20px;height:20px;font-size:1rem;line-height:1;display:flex}.feature-tag.jsx-59911f53b71d88be button.jsx-59911f53b71d88be:hover{color:#d32f2f;background:#fcc}.location-search-container.jsx-59911f53b71d88be{gap:10px;display:flex}.btn-search-map.jsx-59911f53b71d88be{cursor:pointer;background:#eee;border:1px solid #ddd;border-radius:10px;padding:0 15px;font-size:1.2rem}.btn-search-map.jsx-59911f53b71d88be:hover{background:#e0e0e0}.file-drop-area.jsx-59911f53b71d88be{text-align:center;cursor:pointer;background:#fafafa;border:2px dashed #ccc;border-radius:12px;padding:2rem;transition:all .2s}.file-drop-area.jsx-59911f53b71d88be:hover{background:#f0f0f0;border-color:#111}.hidden-file-input.jsx-59911f53b71d88be{display:none}.images-preview.jsx-59911f53b71d88be{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:1rem;margin-top:1.5rem;display:grid}.image-preview-item.jsx-59911f53b71d88be{aspect-ratio:1;border-radius:12px;position:relative;overflow:hidden;box-shadow:0 2px 8px #0000001a}.image-preview-item.jsx-59911f53b71d88be img.jsx-59911f53b71d88be{object-fit:cover;width:100%;height:100%}.btn-remove-img.jsx-59911f53b71d88be{color:#fff;cursor:pointer;background:#0009;border:none;border-radius:50%;justify-content:center;align-items:center;width:28px;height:28px;transition:background .2s;display:flex;position:absolute;top:6px;right:6px}.btn-remove-img.jsx-59911f53b71d88be:hover{background:#dc2626e6}.img-label.jsx-59911f53b71d88be{color:#fff;text-align:center;background:#3b82f6e6;padding:3px;font-size:.7rem;font-weight:600;position:absolute;bottom:0;left:0;right:0}.sticky-actions.jsx-59911f53b71d88be{z-index:100;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2;justify-content:flex-end;gap:1rem;padding:1rem 2rem;display:flex;position:fixed;bottom:0;left:0;right:0;box-shadow:0 -4px 20px #0000000d}.btn.jsx-59911f53b71d88be{cursor:pointer;border:none;border-radius:10px;padding:.75rem 1.5rem;font-weight:600;transition:all .2s}.btn-primary.jsx-59911f53b71d88be{color:#fff;background:#111;box-shadow:0 4px 12px #00000026}.btn-primary.jsx-59911f53b71d88be:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0003}.btn-primary.jsx-59911f53b71d88be:disabled{cursor:not-allowed;background:#888;transform:none}.btn-cancel.jsx-59911f53b71d88be{color:#666;background:0 0;border:1px solid #ddd}.btn-cancel.jsx-59911f53b71d88be:hover{color:#333;background:#f5f5f5}.map-loading.jsx-59911f53b71d88be{color:#888;background:#f0f0f0;border-radius:12px;justify-content:center;align-items:center;height:400px;display:flex}.coordinates-display.jsx-59911f53b71d88be{color:#666;margin-top:.5rem;font-family:monospace;font-size:.8rem}@media (width<=768px){.row.jsx-59911f53b71d88be{grid-template-columns:1fr}.sticky-actions.jsx-59911f53b71d88be{padding:1rem}.btn-large.jsx-59911f53b71d88be{width:100%}}"})]})}e.s(["default",()=>d])},94430,e=>{"use strict";var a=e.i(43476),s=e.i(37902),r=e.i(71645),t=e.i(18566),i=e.i(58652),n=e.i(5513),d=e.i(21052);e.i(36180);var o=e.i(98925),l=e.i(19194),c=e.i(22016);function b({params:e}){let{id:b}=e,{user:f,loading:u}=(0,i.useAuth)(),{addToast:x}=(0,n.useToast)(),m=(0,t.useRouter)(),[p,j]=(0,r.useState)(null),[h,g]=(0,r.useState)(!0),[v,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{u||f||m.push("/admin/login")},[f,u,m]),(0,r.useEffect)(()=>{(async()=>{if(b&&f)try{let e=(0,o.doc)(d.db,"properties",b),a=await (0,o.getDoc)(e);a.exists()?j({id:a.id,...a.data()}):(x("Propiedad no encontrada","error"),m.push("/admin/dashboard"))}catch(e){console.error("Error fetching property:",e),x("Error al cargar la propiedad","error")}finally{g(!1)}})()},[b,f,m,x]);let y=async e=>{N(!0);try{let a=(0,o.doc)(d.db,"properties",b);await (0,o.updateDoc)(a,{...e,updatedAt:new Date().toISOString(),updatedBy:f.email,priceNumber:Number(e.price.replace(/[^0-9]/g,""))||0}),x("Propiedad actualizada exitosamente","success"),m.push("/admin/dashboard")}catch(e){console.error("Error updating property:",e),x("Error al actualizar la propiedad: "+e.message,"error")}finally{N(!1)}};return u||!f||h?(0,a.jsxs)("div",{className:"jsx-dc3a331289cfcd1d loading-screen",children:[(0,a.jsx)("div",{className:"jsx-dc3a331289cfcd1d spinner"}),(0,a.jsx)(s.default,{id:"dc3a331289cfcd1d",children:".loading-screen.jsx-dc3a331289cfcd1d{justify-content:center;align-items:center;height:100vh;display:flex}.spinner.jsx-dc3a331289cfcd1d{border:3px solid #f3f3f3;border-top-color:#0f172a;border-radius:50%;width:40px;height:40px;animation:1s linear infinite spin}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"})]}):(0,a.jsxs)("div",{className:"jsx-cdbcdfda0f440e6d admin-page",children:[(0,a.jsx)("header",{className:"jsx-cdbcdfda0f440e6d admin-header",children:(0,a.jsxs)("div",{className:"jsx-cdbcdfda0f440e6d container header-container",children:[(0,a.jsx)(c.default,{href:"/admin/dashboard",className:"back-link",children:"‚Üê Volver"}),(0,a.jsx)("h1",{className:"jsx-cdbcdfda0f440e6d",children:"Editar Propiedad"}),(0,a.jsx)("div",{style:{width:"60px"},className:"jsx-cdbcdfda0f440e6d"})]})}),(0,a.jsx)("main",{className:"jsx-cdbcdfda0f440e6d container main-content",children:p&&(0,a.jsx)(l.default,{initialData:p,onSubmit:y,loading:v})}),(0,a.jsx)(s.default,{id:"cdbcdfda0f440e6d",children:".admin-page.jsx-cdbcdfda0f440e6d{background-color:#f8fafc;min-height:100vh}.admin-header.jsx-cdbcdfda0f440e6d{z-index:100;background:#fff;border-bottom:1px solid #e2e8f0;margin-bottom:2rem;padding:1rem 0;position:sticky;top:0}.header-container.jsx-cdbcdfda0f440e6d{justify-content:space-between;align-items:center;display:flex}h1.jsx-cdbcdfda0f440e6d{color:#0f172a;margin:0;font-size:1.25rem;font-weight:700}.back-link.jsx-cdbcdfda0f440e6d{color:#64748b;border-radius:8px;padding:.5rem 1rem;font-size:.9rem;font-weight:500;text-decoration:none;transition:background .2s}.back-link.jsx-cdbcdfda0f440e6d:hover{color:#0f172a;background:#f1f5f9}.main-content.jsx-cdbcdfda0f440e6d{padding-bottom:4rem}"})]})}e.s(["default",()=>b])},77577,e=>{e.v(a=>Promise.all(["static/chunks/5391d4d9b3c3b47e.js","static/chunks/1442f9ddf5556540.js","static/chunks/92775ae1698e5da0.css"].map(a=>e.l(a))).then(()=>a(70665)))}]);